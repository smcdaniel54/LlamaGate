name: intake_structured_summary
version: 1.0.0
description: Generate structured summary from input text using LLM
type: workflow
enabled: true

inputs:
  - id: input_text
    type: string
    required: true
  - id: model
    type: string
    required: false

outputs:
  - id: summary
    type: object

steps:
  - uses: template.render
    with:
      template_content: "Summarize the following text in structured format (JSON) with fields: title, key_points (array), urgency_level (low/medium/high), category:\n\n{{.input_text}}"
  - uses: llm.chat
    with:
      model: "mistral"
  - uses: summary.parse
